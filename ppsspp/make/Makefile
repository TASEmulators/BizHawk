TARGET := libppsspp.so
CCFLAGS := 	-I. \
	-g \
	-Os \
	-fPIC \
	-DUSE_FFMPEG=1 \
	-DNDEBUG \
	-D_NDEBUG \
	-DHAVE_GETAUXVAL \
	-DHTTPS_NOT_AVAILABLE \
	-DMASKED_PSP_MEMORY \
	-DMINIUPNPC_SET_SOCKET_TIMEOUT \
	-DNO_MMAP \
	-DSHARED_ZLIB \
	-DVK_USE_PLATFORM_WAYLAND_KHR \
	-DVK_USE_PLATFORM_XLIB_KHR \
	-D_BSD_SOURCE \
	-D_DEFAULT_SOURCE \
	-D_FILE_OFFSET_BITS=64 \
	-D_LARGEFILE64_SOURCE=1 \
	-D_POSIX_C_SOURCE=200112L \
	-D_XOPEN_SOURCE_EXTENDED \
	-D__BSD_VISIBLE=1 \
	-D__STDC_CONSTANT_MACROS \
	-DSTACK_LINE_READER_BUFFER_SIZE=1024 \
	-DSFMT_MEXP=19937 \
	-DENABLE_HLSL \
	-DENABLE_OPT=0 \
	-DGLSLANG_OSINCLUDE_UNIX \
	-D_7ZIP_ST \
	-DSPIRV_CROSS_EXCEPTIONS_TO_ASSERTIONS \
	-D__STDC_LIMIT_MACROS \
	-DHAVE_LIBAVCODEC_CONST_AVCODEC=1 \
	-Dppsspp_libretro_EXPORTS \
	-DNO_ARMIPS \
	-DZSTD_DISABLE_ASM \
	-DUSE_SDL2_TTF \
	-DFT_CONFIG_MODULES_H="<ftmodule.h>" \
	-DFT2_BUILD_LIBRARY=1 \
	-DFT_CONFIG_OPTIONS_H="<ftoption.h>" \
	-DFT_CONFIG_CONFIG_H="<ftconfig.h>" \
	-D__INLINE__=inline \
  	-I../ppsspp/ext/glslang \
  	-I../ppsspp/ext/glslang-build \
  	-I../ppsspp \
  	-I../ppsspp/ext \
  	-I../ppsspp/libretro \
  	-I../ppsspp/ext/OpenXR-SDK/include \
  	-I../ppsspp/Common \
  	-I../ppsspp/ext/libzip \
  	-I../ppsspp/ext/zstd/lib \
  	-I../ppsspp/ext/libpng17 \
  	-I../ppsspp/ext/snappy/ \
  	-I../ppsspp/ext/lua/ \
  	-I../ppsspp/ext/libchdr/include \
  	-I../ppsspp/ext/rcheevos/include \
  	-I../ppsspp/ext/miniupnp-build \
	-I../jaffarCommon/include \
	-I../jaffarCommon/third_party \
	-I../ppsspp/ffmpeg/linux/x86_64/include/ \
	-I../jaffarCommon/subprojects/SDL2_TTF/external/freetype \
	-I../jaffarCommon/subprojects/SDL2_TTF/external/freetype/include \
	-I../jaffarCommon/subprojects/SDL2_TTF/external/harfbuzz/src \
	-I../jaffarCommon/subprojects/SDL2_TTF/external/SDL2/include

CXXFLAGS := $(CCFLAGS) -std=c++20

SRCS =  ../bizhawk.cpp \
	../ppsspp/Common/ABI.cpp \
	../ppsspp/Common/Arm64Emitter.cpp \
	../ppsspp/Common/ArmCPUDetect.cpp \
	../ppsspp/Common/ArmEmitter.cpp \
	../ppsspp/Common/Buffer.cpp \
	../ppsspp/Common/Crypto/_md5.cpp \
	../ppsspp/Common/Crypto/_sha1.cpp \
	../ppsspp/Common/Crypto/sha256.cpp \
	../ppsspp/Common/Data/Color/RGBAUtil.cpp \
	../ppsspp/Common/Data/Convert/ColorConv.cpp \
	../ppsspp/Common/Data/Convert/SmallDataConvert.cpp \
	../ppsspp/Common/Data/Encoding/Base64.cpp \
	../ppsspp/Common/Data/Encoding/Compression.cpp \
	../ppsspp/Common/Data/Encoding/Utf8.cpp \
	../ppsspp/Common/Data/Format/DDSLoad.cpp \
	../ppsspp/Common/Data/Format/IniFile.cpp \
	../ppsspp/Common/Data/Format/JSONReader.cpp \
	../ppsspp/Common/Data/Format/JSONWriter.cpp \
	../ppsspp/Common/Data/Format/RIFF.cpp \
	../ppsspp/Common/Data/Format/ZIMLoad.cpp \
	../ppsspp/Common/Data/Format/ZIMSave.cpp \
	../ppsspp/Common/Data/Hash/_Hash.cpp \
	../ppsspp/Common/Data/Text/I18n.cpp \
	../ppsspp/Common/Data/Text/Parsers.cpp \
	../ppsspp/Common/Data/Text/WrapText.cpp \
	../ppsspp/Common/ExceptionHandlerSetup.cpp \
	../ppsspp/Common/FakeCPUDetect.cpp \
	../ppsspp/Common/File/AndroidContentURI.cpp \
	../ppsspp/Common/File/AndroidStorage.cpp \
	../ppsspp/Common/File/DirListing.cpp \
	../ppsspp/Common/File/DiskFree.cpp \
	../ppsspp/Common/File/FileDescriptor.cpp \
	../ppsspp/Common/File/FileUtil.cpp \
	../ppsspp/Common/File/Path.cpp \
	../ppsspp/Common/File/PathBrowser.cpp \
	../ppsspp/Common/File/VFS/DirectoryReader.cpp \
	../ppsspp/Common/File/VFS/VFS.cpp \
	../ppsspp/Common/Data/Format/PNGLoad.cpp \
	../ppsspp/Common/GhidraClient.cpp \
	../ppsspp/Common/GPU/GPUBackendCommon.cpp \
	../ppsspp/Common/GPU/Shader.cpp \
	../ppsspp/Common/GPU/ShaderWriter.cpp \
	../ppsspp/Common/GPU/thin3d.cpp \
	../ppsspp/Common/Input/GestureDetector.cpp \
	../ppsspp/Common/Input/InputState.cpp \
	../ppsspp/Common/Log.cpp \
	../ppsspp/Common/Log/ConsoleListener.cpp \
	../ppsspp/Common/Log/LogManager.cpp \
	../ppsspp/Common/LogReporting.cpp \
	../ppsspp/Common/LoongArchCPUDetect.cpp \
	../ppsspp/Common/Math/curves.cpp \
	../ppsspp/Common/Math/expression_parser.cpp \
	../ppsspp/Common/Math/fast/fast_matrix.c \
	../ppsspp/Common/Math/lin/matrix4x4.cpp \
	../ppsspp/Common/Math/lin/vec3.cpp \
	../ppsspp/Common/Math/math_util.cpp \
	../ppsspp/Common/Math/Statistics.cpp \
	../ppsspp/Common/MemArenaAndroid.cpp \
	../ppsspp/Common/MemArenaDarwin.cpp \
	../ppsspp/Common/MemArenaHorizon.cpp \
	../ppsspp/Common/MemArenaPosix.cpp \
	../ppsspp/Common/MemArenaWin32.cpp \
	../ppsspp/Common/MemoryUtil.cpp \
	../ppsspp/Common/MemoryUtilHorizon.cpp \
	../ppsspp/Common/MipsCPUDetect.cpp \
	../ppsspp/Common/MipsEmitter.cpp \
	../ppsspp/Common/Net/HTTPClient.cpp \
	../ppsspp/Common/Net/HTTPHeaders.cpp \
	../ppsspp/Common/Net/HTTPNaettRequest.cpp \
	../ppsspp/Common/Net/HTTPRequest.cpp \
	../ppsspp/Common/Net/HTTPServer.cpp \
	../ppsspp/Common/Net/NetBuffer.cpp \
	../ppsspp/Common/Net/Resolve.cpp \
	../ppsspp/Common/Net/Sinks.cpp \
	../ppsspp/Common/Net/_URL.cpp \
	../ppsspp/Common/Net/WebsocketServer.cpp \
	../ppsspp/Common/OSVersion.cpp \
	../ppsspp/Common/Profiler/Profiler.cpp \
	../ppsspp/Common/Render/DrawBuffer.cpp \
	../ppsspp/Common/Render/ManagedTexture.cpp \
	../ppsspp/Common/Render/Text/draw_text.cpp \
	../ppsspp/Common/Render/Text/draw_text_android.cpp \
	../ppsspp/Common/Render/Text/draw_text_qt.cpp \
	../ppsspp/Common/Render/Text/draw_text_sdl.cpp \
	../ppsspp/Common/Render/Text/draw_text_uwp.cpp \
	../ppsspp/Common/Render/Text/draw_text_win.cpp \
	../ppsspp/Common/Render/TextureAtlas.cpp \
	../ppsspp/Common/RiscVCPUDetect.cpp \
	../ppsspp/Common/RiscVEmitter.cpp \
	../ppsspp/Common/Serialize/Serializer.cpp \
	../ppsspp/Common/StringUtils.cpp \
	../ppsspp/Common/SysError.cpp \
	../ppsspp/Common/System/Display.cpp \
	../ppsspp/Common/System/OSD.cpp \
	../ppsspp/Common/System/Request.cpp \
	../ppsspp/Common/Thread/ParallelLoop.cpp \
	../ppsspp/Common/Thread/ThreadManager.cpp \
	../ppsspp/Common/Thread/ThreadUtil.cpp \
	../ppsspp/Common/Thunk.cpp \
	../ppsspp/Common/TimeUtil.cpp \
	../ppsspp/Common/UI/AsyncImageFileView.cpp \
	../ppsspp/Common/UI/Context.cpp \
	../ppsspp/Common/UI/IconCache.cpp \
	../ppsspp/Common/UI/PopupScreens.cpp \
	../ppsspp/Common/UI/Root.cpp \
	../ppsspp/Common/UI/Screen.cpp \
	../ppsspp/Common/UI/ScrollView.cpp \
	../ppsspp/Common/UI/Tween.cpp \
	../ppsspp/Common/UI/UI.cpp \
	../ppsspp/Common/UI/UIScreen.cpp \
	../ppsspp/Common/UI/View.cpp \
	../ppsspp/Common/UI/ViewGroup.cpp \
	../ppsspp/Common/VR/OpenXRLoader.cpp \
	../ppsspp/Common/VR/PPSSPPVR.cpp \
	../ppsspp/Common/VR/VRBase.cpp \
	../ppsspp/Common/VR/VRFramebuffer.cpp \
	../ppsspp/Common/VR/VRInput.cpp \
	../ppsspp/Common/VR/VRMath.cpp \
	../ppsspp/Common/VR/VRRenderer.cpp \
	../ppsspp/Common/x64Analyzer.cpp \
	../ppsspp/Common/x64Emitter.cpp \
	../ppsspp/Common/File/VFS/ZipFileReader.cpp \
	../ppsspp/Core/AVIDump.cpp \
	../ppsspp/Core/Compatibility.cpp \
	../ppsspp/Core/Config.cpp \
	../ppsspp/Core/ConfigSettings.cpp \
	../ppsspp/Core/ControlMapper.cpp \
	../ppsspp/Core/Core.cpp \
	../ppsspp/Core/CoreTiming.cpp \
	../ppsspp/Core/CwCheat.cpp \
	../ppsspp/Core/LuaContext.cpp \
	../ppsspp/Core/Screenshot.cpp \
	../ppsspp/Core/Debugger/Breakpoints.cpp \
	../ppsspp/Core/Debugger/DisassemblyManager.cpp \
	../ppsspp/Core/Debugger/MemBlockInfo.cpp \
	../ppsspp/Core/Debugger/SymbolMap.cpp \
	../ppsspp/Core/Dialog/PSPDialog.cpp \
	../ppsspp/Core/Dialog/PSPGamedataInstallDialog.cpp \
	../ppsspp/Core/Dialog/PSPMsgDialog.cpp \
	../ppsspp/Core/Dialog/PSPNetconfDialog.cpp \
	../ppsspp/Core/Dialog/PSPNpSigninDialog.cpp \
	../ppsspp/Core/Dialog/PSPOskConstants.cpp \
	../ppsspp/Core/Dialog/PSPOskDialog.cpp \
	../ppsspp/Core/Dialog/PSPPlaceholderDialog.cpp \
	../ppsspp/Core/Dialog/PSPSaveDialog.cpp \
	../ppsspp/Core/Dialog/PSPScreenshotDialog.cpp \
	../ppsspp/Core/Dialog/SavedataParam.cpp \
	../ppsspp/Core/ELF/ElfReader.cpp \
	../ppsspp/Core/ELF/ParamSFO.cpp \
	../ppsspp/Core/ELF/PBPReader.cpp \
	../ppsspp/Core/ELF/PrxDecrypter.cpp \
	../ppsspp/Core/FileLoaders/CachingFileLoader.cpp \
	../ppsspp/Core/FileLoaders/DiskCachingFileLoader.cpp \
	../ppsspp/Core/FileLoaders/HTTPFileLoader.cpp \
	../ppsspp/Core/FileLoaders/LocalFileLoader.cpp \
	../ppsspp/Core/FileLoaders/RamCachingFileLoader.cpp \
	../ppsspp/Core/FileLoaders/RetryingFileLoader.cpp \
	../ppsspp/Core/FileLoaders/ZipFileLoader.cpp \
	../ppsspp/Core/FileSystems/BlobFileSystem.cpp \
	../ppsspp/Core/FileSystems/BlockDevices.cpp \
	../ppsspp/Core/FileSystems/DirectoryFileSystem.cpp \
	../ppsspp/Core/FileSystems/FileSystem.cpp \
	../ppsspp/Core/FileSystems/ISOFileSystem.cpp \
	../ppsspp/Core/FileSystems/MetaFileSystem.cpp \
	../ppsspp/Core/FileSystems/tlzrc.cpp \
	../ppsspp/Core/FileSystems/VirtualDiscFileSystem.cpp \
	../ppsspp/Core/Font/PGF.cpp \
	../ppsspp/Core/FrameTiming.cpp \
	../ppsspp/Core/HDRemaster.cpp \
	../ppsspp/Core/HLE/AtracCtx.cpp \
	../ppsspp/Core/HLE/AtracCtx2.cpp \
	../ppsspp/Core/HLE/HLE.cpp \
	../ppsspp/Core/HLE/HLEHelperThread.cpp \
	../ppsspp/Core/HLE/HLETables.cpp \
	../ppsspp/Core/HLE/KUBridge.cpp \
	../ppsspp/Core/HLE/NetInetConstants.cpp \
	../ppsspp/Core/HLE/Plugins.cpp \
	../ppsspp/Core/HLE/proAdhoc.cpp \
	../ppsspp/Core/HLE/proAdhocServer.cpp \
	../ppsspp/Core/HLE/ReplaceTables.cpp \
	../ppsspp/Core/HLE/sceAac.cpp \
	../ppsspp/Core/HLE/sceAdler.cpp \
	../ppsspp/Core/HLE/sceAtrac.cpp \
	../ppsspp/Core/HLE/sceAudio.cpp \
	../ppsspp/Core/HLE/sceAudiocodec.cpp \
	../ppsspp/Core/HLE/sceAudioRouting.cpp \
	../ppsspp/Core/HLE/sceCcc.cpp \
	../ppsspp/Core/HLE/sceChnnlsv.cpp \
	../ppsspp/Core/HLE/sceCtrl.cpp \
	../ppsspp/Core/HLE/sceDeflt.cpp \
	../ppsspp/Core/HLE/sceDisplay.cpp \
	../ppsspp/Core/HLE/sceDmac.cpp \
	../ppsspp/Core/HLE/sceFont.cpp \
	../ppsspp/Core/HLE/sceG729.cpp \
	../ppsspp/Core/HLE/sceGameUpdate.cpp \
	../ppsspp/Core/HLE/sceGe.cpp \
	../ppsspp/Core/HLE/sceHeap.cpp \
	../ppsspp/Core/HLE/sceHprm.cpp \
	../ppsspp/Core/HLE/sceHttp.cpp \
	../ppsspp/Core/HLE/sceImpose.cpp \
	../ppsspp/Core/HLE/sceIo.cpp \
	../ppsspp/Core/HLE/sceJpeg.cpp \
	../ppsspp/Core/HLE/sceKernel.cpp \
	../ppsspp/Core/HLE/sceKernelAlarm.cpp \
	../ppsspp/Core/HLE/sceKernelEventFlag.cpp \
	../ppsspp/Core/HLE/sceKernelHeap.cpp \
	../ppsspp/Core/HLE/sceKernelInterrupt.cpp \
	../ppsspp/Core/HLE/sceKernelMbx.cpp \
	../ppsspp/Core/HLE/sceKernelMemory.cpp \
	../ppsspp/Core/HLE/sceKernelModule.cpp \
	../ppsspp/Core/HLE/sceKernelMsgPipe.cpp \
	../ppsspp/Core/HLE/sceKernelMutex.cpp \
	../ppsspp/Core/HLE/sceKernelSemaphore.cpp \
	../ppsspp/Core/HLE/sceKernelThread.cpp \
	../ppsspp/Core/HLE/sceKernelTime.cpp \
	../ppsspp/Core/HLE/sceKernelVTimer.cpp \
	../ppsspp/Core/HLE/sceMd5.cpp \
	../ppsspp/Core/HLE/sceMp3.cpp \
	../ppsspp/Core/HLE/sceMp4.cpp \
	../ppsspp/Core/HLE/sceMpeg.cpp \
	../ppsspp/Core/HLE/sceMt19937.cpp \
	../ppsspp/Core/HLE/sceNet.cpp \
	../ppsspp/Core/HLE/sceNetAdhoc.cpp \
	../ppsspp/Core/HLE/sceNetAdhocMatching.cpp \
	../ppsspp/Core/HLE/sceNetApctl.cpp \
	../ppsspp/Core/HLE/sceNetInet.cpp \
	../ppsspp/Core/HLE/sceNetResolver.cpp \
	../ppsspp/Core/HLE/sceNet_lib.cpp \
	../ppsspp/Core/HLE/sceNp.cpp \
	../ppsspp/Core/HLE/sceNp2.cpp \
	../ppsspp/Core/HLE/sceOpenPSID.cpp \
	../ppsspp/Core/HLE/sceP3da.cpp \
	../ppsspp/Core/HLE/sceParseHttp.cpp \
	../ppsspp/Core/HLE/sceParseUri.cpp \
	../ppsspp/Core/HLE/scePauth.cpp \
	../ppsspp/Core/HLE/scePower.cpp \
	../ppsspp/Core/HLE/scePsmf.cpp \
	../ppsspp/Core/HLE/scePspNpDrm_user.cpp \
	../ppsspp/Core/HLE/sceReg.cpp \
	../ppsspp/Core/HLE/sceRtc.cpp \
	../ppsspp/Core/HLE/sceSas.cpp \
	../ppsspp/Core/HLE/sceSfmt19937.cpp \
	../ppsspp/Core/HLE/sceSha256.cpp \
	../ppsspp/Core/HLE/sceSircs.cpp \
	../ppsspp/Core/HLE/sceSsl.cpp \
	../ppsspp/Core/HLE/sceUmd.cpp \
	../ppsspp/Core/HLE/sceUsb.cpp \
	../ppsspp/Core/HLE/sceUsbAcc.cpp \
	../ppsspp/Core/HLE/sceUsbCam.cpp \
	../ppsspp/Core/HLE/sceUsbGps.cpp \
	../ppsspp/Core/HLE/sceUsbMic.cpp \
	../ppsspp/Core/HLE/sceUtility.cpp \
	../ppsspp/Core/HLE/sceVaudio.cpp \
	../ppsspp/Core/HLE/SocketManager.cpp \
	../ppsspp/Core/HLE/__sceAudio.cpp \
	../ppsspp/Core/HW/AsyncIOManager.cpp \
	../ppsspp/Core/HW/Atrac3Standalone.cpp \
	../ppsspp/Core/HW/BufferQueue.cpp \
	../ppsspp/Core/HW/Camera.cpp \
	../ppsspp/Core/HW/Display.cpp \
	../ppsspp/Core/HW/MediaEngine.cpp \
	../ppsspp/Core/HW/MemoryStick.cpp \
	../ppsspp/Core/HW/MpegDemux.cpp \
	../ppsspp/Core/HW/SasAudio.cpp \
	../ppsspp/Core/HW/SasReverb.cpp \
	../ppsspp/Core/HW/SimpleAudioDec.cpp \
	../ppsspp/Core/HW/StereoResampler.cpp \
	../ppsspp/Core/Instance.cpp \
	../ppsspp/Core/KeyMap.cpp \
	../ppsspp/Core/KeyMapDefaults.cpp \
	../ppsspp/Core/Loaders.cpp \
	../ppsspp/Core/MemFault.cpp \
	../ppsspp/Core/MemMap.cpp \
	../ppsspp/Core/MemMapFunctions.cpp \
	../ppsspp/Core/MIPS/ARM64/Arm64Asm.cpp \
	../ppsspp/Core/MIPS/ARM64/Arm64CompALU.cpp \
	../ppsspp/Core/MIPS/ARM64/Arm64CompBranch.cpp \
	../ppsspp/Core/MIPS/ARM64/Arm64CompFPU.cpp \
	../ppsspp/Core/MIPS/ARM64/Arm64CompLoadStore.cpp \
	../ppsspp/Core/MIPS/ARM64/Arm64CompReplace.cpp \
	../ppsspp/Core/MIPS/ARM64/Arm64CompVFPU.cpp \
	../ppsspp/Core/MIPS/ARM64/Arm64IRAsm.cpp \
	../ppsspp/Core/MIPS/ARM64/Arm64IRCompALU.cpp \
	../ppsspp/Core/MIPS/ARM64/Arm64IRCompBranch.cpp \
	../ppsspp/Core/MIPS/ARM64/Arm64IRCompFPU.cpp \
	../ppsspp/Core/MIPS/ARM64/Arm64IRCompLoadStore.cpp \
	../ppsspp/Core/MIPS/ARM64/Arm64IRCompSystem.cpp \
	../ppsspp/Core/MIPS/ARM64/Arm64IRCompVec.cpp \
	../ppsspp/Core/MIPS/ARM64/Arm64IRJit.cpp \
	../ppsspp/Core/MIPS/ARM64/Arm64IRRegCache.cpp \
	../ppsspp/Core/MIPS/ARM64/Arm64Jit.cpp \
	../ppsspp/Core/MIPS/ARM64/Arm64RegCache.cpp \
	../ppsspp/Core/MIPS/ARM64/Arm64RegCacheFPU.cpp \
	../ppsspp/Core/MIPS/ARM/ArmAsm.cpp \
	../ppsspp/Core/MIPS/ARM/ArmCompALU.cpp \
	../ppsspp/Core/MIPS/ARM/ArmCompBranch.cpp \
	../ppsspp/Core/MIPS/ARM/ArmCompFPU.cpp \
	../ppsspp/Core/MIPS/ARM/ArmCompLoadStore.cpp \
	../ppsspp/Core/MIPS/ARM/ArmCompReplace.cpp \
	../ppsspp/Core/MIPS/ARM/ArmCompVFPU.cpp \
	../ppsspp/Core/MIPS/ARM/ArmCompVFPUNEON.cpp \
	../ppsspp/Core/MIPS/ARM/ArmCompVFPUNEONUtil.cpp \
	../ppsspp/Core/MIPS/ARM/ArmJit.cpp \
	../ppsspp/Core/MIPS/ARM/ArmRegCache.cpp \
	../ppsspp/Core/MIPS/ARM/ArmRegCacheFPU.cpp \
	../ppsspp/Core/MIPS/fake/FakeJit.cpp \
	../ppsspp/Core/MIPS/IR/IRAnalysis.cpp \
	../ppsspp/Core/MIPS/IR/IRCompALU.cpp \
	../ppsspp/Core/MIPS/IR/IRCompBranch.cpp \
	../ppsspp/Core/MIPS/IR/IRCompFPU.cpp \
	../ppsspp/Core/MIPS/IR/IRCompLoadStore.cpp \
	../ppsspp/Core/MIPS/IR/IRCompVFPU.cpp \
	../ppsspp/Core/MIPS/IR/IRFrontend.cpp \
	../ppsspp/Core/MIPS/IR/IRInst.cpp \
	../ppsspp/Core/MIPS/IR/IRInterpreter.cpp \
	../ppsspp/Core/MIPS/IR/IRJit.cpp \
	../ppsspp/Core/MIPS/IR/IRNativeCommon.cpp \
	../ppsspp/Core/MIPS/IR/IRPassSimplify.cpp \
	../ppsspp/Core/MIPS/IR/IRRegCache.cpp \
	../ppsspp/Core/MIPS/JitCommon/JitBlockCache.cpp \
	../ppsspp/Core/MIPS/JitCommon/JitCommon.cpp \
	../ppsspp/Core/MIPS/JitCommon/JitState.cpp \
	../ppsspp/Core/MIPS/MIPS.cpp \
	../ppsspp/Core/MIPS/MIPSAnalyst.cpp \
	../ppsspp/Core/MIPS/MIPSAsm.cpp \
	../ppsspp/Core/MIPS/MIPSCodeUtils.cpp \
	../ppsspp/Core/MIPS/MIPSDebugInterface.cpp \
	../ppsspp/Core/MIPS/MIPSDis.cpp \
	../ppsspp/Core/MIPS/MIPSDisVFPU.cpp \
	../ppsspp/Core/MIPS/MIPS/MipsJit.cpp \
	../ppsspp/Core/MIPS/MIPSInt.cpp \
	../ppsspp/Core/MIPS/MIPSIntVFPU.cpp \
	../ppsspp/Core/MIPS/MIPSStackWalk.cpp \
	../ppsspp/Core/MIPS/MIPSTables.cpp \
	../ppsspp/Core/MIPS/MIPSTracer.cpp \
	../ppsspp/Core/MIPS/MIPSVFPUFallbacks.cpp \
	../ppsspp/Core/MIPS/MIPSVFPUUtils.cpp \
	../ppsspp/Core/MIPS/RiscV/RiscVAsm.cpp \
	../ppsspp/Core/MIPS/RiscV/RiscVCompALU.cpp \
	../ppsspp/Core/MIPS/RiscV/RiscVCompBranch.cpp \
	../ppsspp/Core/MIPS/RiscV/RiscVCompFPU.cpp \
	../ppsspp/Core/MIPS/RiscV/RiscVCompLoadStore.cpp \
	../ppsspp/Core/MIPS/RiscV/RiscVCompSystem.cpp \
	../ppsspp/Core/MIPS/RiscV/RiscVCompVec.cpp \
	../ppsspp/Core/MIPS/RiscV/RiscVJit.cpp \
	../ppsspp/Core/MIPS/RiscV/RiscVRegCache.cpp \
	../ppsspp/Core/MIPS/x86/Asm.cpp \
	../ppsspp/Core/MIPS/x86/CompALU.cpp \
	../ppsspp/Core/MIPS/x86/CompBranch.cpp \
	../ppsspp/Core/MIPS/x86/CompFPU.cpp \
	../ppsspp/Core/MIPS/x86/CompLoadStore.cpp \
	../ppsspp/Core/MIPS/x86/CompReplace.cpp \
	../ppsspp/Core/MIPS/x86/CompVFPU.cpp \
	../ppsspp/Core/MIPS/x86/Jit.cpp \
	../ppsspp/Core/MIPS/x86/JitSafeMem.cpp \
	../ppsspp/Core/MIPS/x86/RegCache.cpp \
	../ppsspp/Core/MIPS/x86/RegCacheFPU.cpp \
	../ppsspp/Core/MIPS/x86/X64IRAsm.cpp \
	../ppsspp/Core/MIPS/x86/X64IRCompALU.cpp \
	../ppsspp/Core/MIPS/x86/X64IRCompBranch.cpp \
	../ppsspp/Core/MIPS/x86/X64IRCompFPU.cpp \
	../ppsspp/Core/MIPS/x86/X64IRCompLoadStore.cpp \
	../ppsspp/Core/MIPS/x86/X64IRCompSystem.cpp \
	../ppsspp/Core/MIPS/x86/X64IRCompVec.cpp \
	../ppsspp/Core/MIPS/x86/X64IRJit.cpp \
	../ppsspp/Core/MIPS/x86/X64IRRegCache.cpp \
	../ppsspp/Core/PSPLoaders.cpp \
	../ppsspp/Core/Replay.cpp \
	../ppsspp/Core/Reporting.cpp \
	../ppsspp/Core/RetroAchievements.cpp \
	../ppsspp/Core/SaveState.cpp \
	../ppsspp/Core/System.cpp \
	../ppsspp/Core/TiltEventProcessor.cpp \
	../ppsspp/Core/Util/AtracTrack.cpp \
	../ppsspp/Core/Util/AudioFormat.cpp \
	../ppsspp/Core/Util/BlockAllocator.cpp \
	../ppsspp/Core/Util/DisArm64.cpp \
	../ppsspp/Core/Util/GameDB.cpp \
	../ppsspp/Core/Util/GameManager.cpp \
	../ppsspp/Core/Util/MemStick.cpp \
	../ppsspp/Core/Util/PortManager.cpp \
	../ppsspp/Core/Util/PPGeDraw.cpp \
	../ppsspp/Core/Util/RecentFiles.cpp \
	../ppsspp/Core/WaveFile.cpp \
	../ppsspp/ext/at3_standalone/atrac.cpp \
	../ppsspp/ext/at3_standalone/atrac3.cpp \
	../ppsspp/ext/at3_standalone/atrac3plus.cpp \
	../ppsspp/ext/at3_standalone/atrac3plusdec.cpp \
	../ppsspp/ext/at3_standalone/atrac3plusdsp.cpp \
	../ppsspp/ext/at3_standalone/compat.cpp \
	../ppsspp/ext/at3_standalone/fft.cpp \
	../ppsspp/ext/at3_standalone/get_bits.cpp \
	../ppsspp/ext/at3_standalone/mem.cpp \
	../ppsspp/ext/basis_universal/basisu_transcoder.cpp \
	../ppsspp/ext/cityhash/city.cpp \
	../ppsspp/ext/disarm.cpp \
	../ppsspp/ext/gason/gason.cpp \
	../ppsspp/ext/imgui/imgui.cpp \
	../ppsspp/ext/imgui/imgui_demo.cpp \
	../ppsspp/ext/imgui/imgui_draw.cpp \
	../ppsspp/ext/imgui/imgui_impl_platform.cpp \
	../ppsspp/ext/imgui/imgui_impl_thin3d.cpp \
	../ppsspp/ext/imgui/imgui_tables.cpp \
	../ppsspp/ext/imgui/imgui_widgets.cpp \
	../ppsspp/ext/jpge/jpgd.cpp \
	../ppsspp/ext/jpge/jpge.cpp \
	../ppsspp/ext/libkirk/AES.c \
	../ppsspp/ext/libkirk/amctrl.c \
	../ppsspp/ext/libkirk/bn.c \
	../ppsspp/ext/libkirk/ec.c \
	../ppsspp/ext/libkirk/kirk_engine.c \
	../ppsspp/ext/libkirk/SHA1.c \
	../ppsspp/ext/minimp3/minimp3.cpp \
	../ppsspp/ext/riscv-disas.cpp \
	../ppsspp/ext/sfmt19937/SFMT.c \
	../ppsspp/ext/udis86/decode.c \
	../ppsspp/ext/udis86/itab.c \
	../ppsspp/ext/udis86/syn-att.c \
	../ppsspp/ext/udis86/syn-intel.c \
	../ppsspp/ext/udis86/syn.c \
	../ppsspp/ext/udis86/udis86.c \
	../ppsspp/ext/xbrz/xbrz.cpp \
	../ppsspp/ext/_xxhash.c \
	../ppsspp/GPU/Common/DepalettizeShaderCommon.cpp \
	../ppsspp/GPU/Common/DepthBufferCommon.cpp \
	../ppsspp/GPU/Common/DepthRaster.cpp \
	../ppsspp/GPU/Common/Draw2D.cpp \
	../ppsspp/GPU/Common/DrawEngineCommon.cpp \
	../ppsspp/GPU/Common/FramebufferManagerCommon.cpp \
	../ppsspp/GPU/Common/GPUDebugInterface.cpp \
	../ppsspp/GPU/Common/GPUStateUtils.cpp \
	../ppsspp/GPU/Common/IndexGenerator.cpp \
	../ppsspp/GPU/Common/PostShader.cpp \
	../ppsspp/GPU/Common/PresentationCommon.cpp \
	../ppsspp/GPU/Common/ReinterpretFramebuffer.cpp \
	../ppsspp/GPU/Common/ReplacedTexture.cpp \
	../ppsspp/GPU/Common/ShaderCommon.cpp \
	../ppsspp/GPU/Common/ShaderId.cpp \
	../ppsspp/GPU/Common/ShaderUniforms.cpp \
	../ppsspp/GPU/Common/SoftwareTransformCommon.cpp \
	../ppsspp/GPU/Common/SplineCommon.cpp \
	../ppsspp/GPU/Common/StencilCommon.cpp \
	../ppsspp/GPU/Common/TextureCacheCommon.cpp \
	../ppsspp/GPU/Common/TextureDecoder.cpp \
	../ppsspp/GPU/Common/TextureReplacer.cpp \
	../ppsspp/GPU/Common/TextureScalerCommon.cpp \
	../ppsspp/GPU/Common/TextureShaderCommon.cpp \
	../ppsspp/GPU/Common/TransformCommon.cpp \
	../ppsspp/GPU/Common/VertexDecoderArm.cpp \
	../ppsspp/GPU/Common/VertexDecoderArm64.cpp \
	../ppsspp/GPU/Common/VertexDecoderCommon.cpp \
	../ppsspp/GPU/Common/VertexDecoderHandwritten.cpp \
	../ppsspp/GPU/Common/VertexDecoderRiscV.cpp \
	../ppsspp/GPU/Common/VertexDecoderX86.cpp \
	../ppsspp/GPU/Debugger/Breakpoints.cpp \
	../ppsspp/GPU/Debugger/Debugger.cpp \
	../ppsspp/GPU/Debugger/GECommandTable.cpp \
	../ppsspp/GPU/Debugger/Playback.cpp \
	../ppsspp/GPU/Debugger/Record.cpp \
	../ppsspp/GPU/Debugger/State.cpp \
	../ppsspp/GPU/Debugger/Stepping.cpp \
	../ppsspp/GPU/GeConstants.cpp \
	../ppsspp/GPU/GeDisasm.cpp \
	../ppsspp/GPU/GPU.cpp \
	../ppsspp/GPU/GPUCommon.cpp \
	../ppsspp/GPU/GPUCommonHW.cpp \
	../ppsspp/GPU/GPUState.cpp \
	../ppsspp/GPU/Math3D.cpp \
	../ppsspp/GPU/Software/BinManager.cpp \
	../ppsspp/GPU/Software/Clipper.cpp \
	../ppsspp/GPU/Software/DrawPixel.cpp \
	../ppsspp/GPU/Software/DrawPixelX86.cpp \
	../ppsspp/GPU/Software/FuncId.cpp \
	../ppsspp/GPU/Software/Lighting.cpp \
	../ppsspp/GPU/Software/Rasterizer.cpp \
	../ppsspp/GPU/Software/RasterizerRectangle.cpp \
	../ppsspp/GPU/Software/RasterizerRegCache.cpp \
	../ppsspp/GPU/Software/Sampler.cpp \
	../ppsspp/GPU/Software/SamplerX86.cpp \
	../ppsspp/GPU/Software/SoftGpu.cpp \
	../ppsspp/GPU/Software/TransformUnit.cpp \
	../ppsspp/libretro/libretro.cpp \
	../ppsspp/libretro/LibretroGraphicsContext.cpp \
	../ppsspp/ext/zstd/lib/common/pool.c \
	../ppsspp/ext/zstd/lib/common/error_private.c \
	../ppsspp/ext/zstd/lib/common/entropy_common.c \
	../ppsspp/ext/zstd/lib/common/zstd_common.c \
	../ppsspp/ext/zstd/lib/common/debug.c \
	../ppsspp/ext/zstd/lib/common/fse_decompress.c \
	../ppsspp/ext/zstd/lib/common/xxhash.c \
	../ppsspp/ext/zstd/lib/common/threading.c \
	../ppsspp/ext/zstd/lib/compress/zstd_opt.c \
	../ppsspp/ext/zstd/lib/compress/zstd_compress_superblock.c \
	../ppsspp/ext/zstd/lib/compress/zstd_lazy.c \
	../ppsspp/ext/zstd/lib/compress/zstd_ldm.c \
	../ppsspp/ext/zstd/lib/compress/zstd_compress_sequences.c \
	../ppsspp/ext/zstd/lib/compress/zstd_fast.c \
	../ppsspp/ext/zstd/lib/compress/hist.c \
	../ppsspp/ext/zstd/lib/compress/zstd_double_fast.c \
	../ppsspp/ext/zstd/lib/compress/zstd_compress_literals.c \
	../ppsspp/ext/zstd/lib/compress/fse_compress.c \
	../ppsspp/ext/zstd/lib/compress/huf_compress.c \
	../ppsspp/ext/zstd/lib/compress/zstd_compress.c \
	../ppsspp/ext/zstd/lib/compress/zstdmt_compress.c \
	../ppsspp/ext/zstd/lib/deprecated/zbuff_decompress.c \
	../ppsspp/ext/zstd/lib/deprecated/zbuff_compress.c \
	../ppsspp/ext/zstd/lib/deprecated/zbuff_common.c \
	../ppsspp/ext/zstd/lib/decompress/huf_decompress.c \
	../ppsspp/ext/zstd/lib/decompress/zstd_ddict.c \
	../ppsspp/ext/zstd/lib/decompress/zstd_decompress.c \
	../ppsspp/ext/zstd/lib/decompress/zstd_decompress_block.c \
	../ppsspp/ext/zstd/lib/dictBuilder/cover.c \
	../ppsspp/ext/zstd/lib/dictBuilder/divsufsort.c \
	../ppsspp/ext/zstd/lib/dictBuilder/fastcover.c \
	../ppsspp/ext/zstd/lib/dictBuilder/zdict.c \
	../ppsspp/ext/libpng17/png.c \
	../ppsspp/ext/libpng17/pngerror.c \
	../ppsspp/ext/libpng17/pngget.c \
	../ppsspp/ext/libpng17/pngmem.c \
	../ppsspp/ext/libpng17/pngpread.c \
	../ppsspp/ext/libpng17/pngread.c \
	../ppsspp/ext/libpng17/pngrio.c \
	../ppsspp/ext/libpng17/pngrtran.c \
	../ppsspp/ext/libpng17/pngrutil.c \
	../ppsspp/ext/libpng17/pngset.c \
	../ppsspp/ext/libpng17/pngtrans.c \
	../ppsspp/ext/libpng17/pngwio.c \
	../ppsspp/ext/libpng17/pngwrite.c \
	../ppsspp/ext/libpng17/pngwtran.c \
	../ppsspp/ext/libpng17/pngwutil.c \
	../ppsspp/ext/libzip/zip_source_get_file_attributes.c \
	../ppsspp/ext/libzip/zip_source_supports.c \
	../ppsspp/ext/libzip/zip_get_archive_comment.c \
	../ppsspp/ext/libzip/zip_stat.c \
	../ppsspp/ext/libzip/zip_file_error_clear.c \
	../ppsspp/ext/libzip/zip_random_unix.c \
	../ppsspp/ext/libzip/zip_source_buffer.c \
	../ppsspp/ext/libzip/zip_source_file_stdio_named.c \
	../ppsspp/ext/libzip/zip_file_set_mtime.c \
	../ppsspp/ext/libzip/zip_get_num_files.c \
	../ppsspp/ext/libzip/zip_new.c \
	../ppsspp/ext/libzip/zip_set_file_compression.c \
	../ppsspp/ext/libzip/zip_source_compress.c \
	../ppsspp/ext/libzip/zip_set_archive_flag.c \
	../ppsspp/ext/libzip/zip_source_zip.c \
	../ppsspp/ext/libzip/zip_add_entry.c \
	../ppsspp/ext/libzip/zip_stat_index.c \
	../ppsspp/ext/libzip/zip_fopen_index.c \
	../ppsspp/ext/libzip/zip_delete.c \
	../ppsspp/ext/libzip/zip_dirent.c \
	../ppsspp/ext/libzip/zip_dir_add.c \
	../ppsspp/ext/libzip/zip_set_file_comment.c \
	../ppsspp/ext/libzip/zip_source_tell_write.c \
	../ppsspp/ext/libzip/zip_source_layered.c \
	../ppsspp/ext/libzip/zip_file_get_offset.c \
	../ppsspp/ext/libzip/zip_source_accept_empty.c \
	../ppsspp/ext/libzip/zip_source_window.c \
	../ppsspp/ext/libzip/zip_close.c \
	../ppsspp/ext/libzip/zip_stat_init.c \
	../ppsspp/ext/libzip/zip_entry.c \
	../ppsspp/ext/libzip/zip_hash.c \
	../ppsspp/ext/libzip/zip_source_close.c \
	../ppsspp/ext/libzip/zip_error.c \
	../ppsspp/ext/libzip/zip_io_util.c \
	../ppsspp/ext/libzip/zip_get_num_entries.c \
	../ppsspp/ext/libzip/zip_set_default_password.c \
	../ppsspp/ext/libzip/zip_get_encryption_implementation.c \
	../ppsspp/ext/libzip/zip_fclose.c \
	../ppsspp/ext/libzip/zip_fseek.c \
	../ppsspp/ext/libzip/zip_source_tell.c \
	../ppsspp/ext/libzip/zip_file_get_external_attributes.c \
	../ppsspp/ext/libzip/zip_mkstempm.c \
	../ppsspp/ext/libzip/zip_fopen_encrypted.c \
	../ppsspp/ext/libzip/zip_file_set_comment.c \
	../ppsspp/ext/libzip/zip_file_set_encryption.c \
	../ppsspp/ext/libzip/zip_file_replace.c \
	../ppsspp/ext/libzip/zip_replace.c \
	../ppsspp/ext/libzip/zip_unchange_all.c \
	../ppsspp/ext/libzip/zip_file_strerror.c \
	../ppsspp/ext/libzip/zip_error_strerror.c \
	../ppsspp/ext/libzip/zip_memdup.c \
	../ppsspp/ext/libzip/zip_utf-8.c \
	../ppsspp/ext/libzip/zip_get_file_comment.c \
	../ppsspp/ext/libzip/zip_source_begin_write.c \
	../ppsspp/ext/libzip/zip_fopen.c \
	../ppsspp/ext/libzip/zip_error_clear.c \
	../ppsspp/ext/libzip/zip_get_name.c \
	../ppsspp/ext/libzip/zip_source_crc.c \
	../ppsspp/ext/libzip/zip_fread.c \
	../ppsspp/ext/libzip/zip_source_error.c \
	../ppsspp/ext/libzip/zip_string.c \
	../ppsspp/ext/libzip/zip_error_to_str.c \
	../ppsspp/ext/libzip/zip_progress.c \
	../ppsspp/ext/libzip/zip_source_read.c \
	../ppsspp/ext/libzip/zip_error_get.c \
	../ppsspp/ext/libzip/zip_unchange_data.c \
	../ppsspp/ext/libzip/zip_pkware.c \
	../ppsspp/ext/libzip/zip_source_zip_new.c \
	../ppsspp/ext/libzip/zip_file_add.c \
	../ppsspp/ext/libzip/zip_extra_field_api.c \
	../ppsspp/ext/libzip/zip_buffer.c \
	../ppsspp/ext/libzip/zip_file_set_external_attributes.c \
	../ppsspp/ext/libzip/zip_err_str.c \
	../ppsspp/ext/libzip/zip_source_remove.c \
	../ppsspp/ext/libzip/zip_set_archive_comment.c \
	../ppsspp/ext/libzip/zip_source_function.c \
	../ppsspp/ext/libzip/zip_strerror.c \
	../ppsspp/ext/libzip/zip_source_open.c \
	../ppsspp/ext/libzip/zip_open.c \
	../ppsspp/ext/libzip/zip_name_locate.c \
	../ppsspp/ext/libzip/zip_ftell.c \
	../ppsspp/ext/libzip/zip_extra_field.c \
	../ppsspp/ext/libzip/zip_fopen_index_encrypted.c \
	../ppsspp/ext/libzip/zip_source_seek_write.c \
	../ppsspp/ext/libzip/zip_fdopen.c \
	../ppsspp/ext/libzip/zip_file_rename.c \
	../ppsspp/ext/libzip/zip_source_stat.c \
	../ppsspp/ext/libzip/zip_set_name.c \
	../ppsspp/ext/libzip/zip_get_archive_flag.c \
	../ppsspp/ext/libzip/zip_source_is_deleted.c \
	../ppsspp/ext/libzip/zip_source_seek.c \
	../ppsspp/ext/libzip/zip_source_file_stdio.c \
	../ppsspp/ext/libzip/zip_libzip_version.c \
	../ppsspp/ext/libzip/zip_unchange_archive.c \
	../ppsspp/ext/libzip/zip_discard.c \
	../ppsspp/ext/libzip/zip_error_get_sys_type.c \
	../ppsspp/ext/libzip/zip_file_get_comment.c \
	../ppsspp/ext/libzip/zip_unchange.c \
	../ppsspp/ext/libzip/zip_source_commit_write.c \
	../ppsspp/ext/libzip/zip_source_pkware_encode.c \
	../ppsspp/ext/libzip/zip_file_error_get.c \
	../ppsspp/ext/libzip/zip_source_rollback_write.c \
	../ppsspp/ext/libzip/zip_source_write.c \
	../ppsspp/ext/libzip/zip_source_file_common.c \
	../ppsspp/ext/libzip/zip_source_pkware_decode.c \
	../ppsspp/ext/libzip/zip_rename.c \
	../ppsspp/ext/libzip/zip_add.c \
	../ppsspp/ext/libzip/zip_source_call.c \
	../ppsspp/ext/libzip/zip_source_free.c \
	../ppsspp/ext/libzip/zip_source_begin_write_cloning.c \
	../ppsspp/ext/libzip/zip_algorithm_deflate.c \
	../ppsspp/ext/libzip/zip_add_dir.c \
	../ppsspp/ext/snappy/snappy.cpp \
	../ppsspp/ext/snappy/snappy-sinksource.cpp \
	../ppsspp/ext/snappy/snappy-stubs-internal.cpp \
	../ppsspp/ext/snappy/snappy-c.cpp \
	../ppsspp/ext/rcheevos/src/rc_client.c \
	../ppsspp/ext/rcheevos/src/rc_util.c \
	../ppsspp/ext/rcheevos/src/rc_version.c \
	../ppsspp/ext/rcheevos/src/rc_compat.c \
	../ppsspp/ext/rcheevos/src/rcheevos/richpresence.c \
	../ppsspp/ext/rcheevos/src/rcheevos/format.c \
	../ppsspp/ext/rcheevos/src/rcheevos/rc_validate.c \
	../ppsspp/ext/rcheevos/src/rcheevos/alloc.c \
	../ppsspp/ext/rcheevos/src/rcheevos/consoleinfo.c \
	../ppsspp/ext/rcheevos/src/rcheevos/condset.c \
	../ppsspp/ext/rcheevos/src/rcheevos/lboard.c \
	../ppsspp/ext/rcheevos/src/rcheevos/operand.c \
	../ppsspp/ext/rcheevos/src/rcheevos/value.c \
	../ppsspp/ext/rcheevos/src/rcheevos/condition.c \
	../ppsspp/ext/rcheevos/src/rcheevos/trigger.c \
	../ppsspp/ext/rcheevos/src/rcheevos/memref.c \
	../ppsspp/ext/rcheevos/src/rcheevos/runtime_progress.c \
	../ppsspp/ext/rcheevos/src/rcheevos/runtime.c \
	../ppsspp/ext/rcheevos/src/rc_client_raintegration.c \
	../ppsspp/ext/rcheevos/src/rurl/url.c \
	../ppsspp/ext/rcheevos/src/rc_libretro.c \
	../ppsspp/ext/rcheevos/src/rapi/rc_api_user.c \
	../ppsspp/ext/rcheevos/src/rapi/rc_api_common.c \
	../ppsspp/ext/rcheevos/src/rapi/rc_api_editor.c \
	../ppsspp/ext/rcheevos/src/rapi/rc_api_runtime.c \
	../ppsspp/ext/rcheevos/src/rapi/rc_api_info.c \
	../ppsspp/ext/rcheevos/src/rhash/md5.c \
	../ppsspp/ext/rcheevos/src/rhash/cdreader.c \
	../ppsspp/ext/rcheevos/src/rhash/aes.c \
	../ppsspp/ext/rcheevos/src/rhash/hash.c \
	../ppsspp/ext/lua/lopcodes.c \
	../ppsspp/ext/lua/lfunc.c \
	../ppsspp/ext/lua/lstrlib.c \
	../ppsspp/ext/lua/ldo.c \
	../ppsspp/ext/lua/lstate.c \
	../ppsspp/ext/lua/loslib.c \
	../ppsspp/ext/lua/lmathlib.c \
	../ppsspp/ext/lua/ltm.c \
	../ppsspp/ext/lua/lapi.c \
	../ppsspp/ext/lua/ltablib.c \
	../ppsspp/ext/lua/ldebug.c \
	../ppsspp/ext/lua/loadlib.c \
	../ppsspp/ext/lua/ltable.c \
	../ppsspp/ext/lua/llex.c \
	../ppsspp/ext/lua/ldump.c \
	../ppsspp/ext/lua/lobject.c \
	../ppsspp/ext/lua/lvm.c \
	../ppsspp/ext/lua/lutf8lib.c \
	../ppsspp/ext/lua/lzio.c \
	../ppsspp/ext/lua/liolib.c \
	../ppsspp/ext/lua/lparser.c \
	../ppsspp/ext/lua/lctype.c \
	../ppsspp/ext/lua/lcode.c \
	../ppsspp/ext/lua/lbaselib.c \
	../ppsspp/ext/lua/lundump.c \
	../ppsspp/ext/lua/lauxlib.c \
	../ppsspp/ext/lua/lmem.c \
	../ppsspp/ext/lua/ldblib.c \
	../ppsspp/ext/lua/lcorolib.c \
	../ppsspp/ext/lua/linit.c \
	../ppsspp/ext/lua/lgc.c \
	../ppsspp/ext/lua/lstring.c \
	../jaffarCommon/third_party/libco/libco.c \
	../ppsspp/ext/zlib/adler32.c \
	../ppsspp/ext/zlib/compress.c \
	../ppsspp/ext/zlib/crc32.c \
	../ppsspp/ext/zlib/deflate.c \
	../ppsspp/ext/zlib/gzclose.c \
	../ppsspp/ext/zlib/gzlib.c \
	../ppsspp/ext/zlib/gzread.c \
	../ppsspp/ext/zlib/gzwrite.c \
	../ppsspp/ext/zlib/infback.c \
	../ppsspp/ext/zlib/inffast.c \
	../ppsspp/ext/zlib/inflate.c \
	../ppsspp/ext/zlib/inftrees.c \
	../ppsspp/ext/zlib/trees.c \
	../ppsspp/ext/zlib/uncompr.c \
	../ppsspp/ext/zlib/zutil.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/base/ftbase.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/base/ftinit.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/truetype/truetype.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/type1/type1.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/cff/cff.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/cid/type1cid.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/pfr/pfr.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/type42/type42.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/winfonts/winfnt.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/pcf/pcf.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/bdf/bdf.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/sfnt/sfnt.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/autofit/autofit.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/pshinter/pshinter.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/smooth/smooth.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/raster/raster.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/svg/svg.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/sdf/sdf.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/cache/ftcache.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/gzip/ftgzip.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/lzw/ftlzw.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/psaux/psaux.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/psnames/psnames.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/base/ftbbox.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/base/ftbdf.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/base/ftbitmap.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/base/ftcid.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/base/ftfstype.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/base/ftgasp.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/base/ftglyph.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/base/ftgxval.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/base/ftmm.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/base/ftotval.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/base/ftpatent.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/base/ftpfr.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/base/ftstroke.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/base/ftsynth.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/base/fttype1.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/base/ftwinfnt.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/builds/unix/ftsystem.c \
	../jaffarCommon/subprojects/SDL2_TTF/external/freetype/src/base/ftdebug.c \
	../jaffarCommon/subprojects/SDL2_TTF/SDL_ttf.c

# UNAME := $(shell uname)
# ifeq ($(UNAME), Linux)
# 	TARGET = libppsspp.so
# else
# 	TARGET = libppsspp.dll
# endif

LDFLAGS = -shared -s $(CXXFLAGS)

DEST = ../../Assets/dll
DESTCOPY = ../../output/dll
OBJS := $(addsuffix .o,$(basename $(SRCS)))

%.o: %.c
	$(CC) -c -o $@ $< $(CCFLAGS)

%.o: %.cpp
	$(CXX) -c -o $@ $< $(CXXFLAGS)

$(TARGET) : $(OBJS)
	$(CXX) -o $@ $(LDFLAGS) $(OBJS) -Wl,--no-undefined -L../ppsspp/ffmpeg/linux/x86_64/lib -lavformat -lavcodec -lavutil -lswresample -lswscale -lSDL2 -Wl,-Bsymbolic
	patchelf --replace-needed libSDL2-2.0.so.0 libSDL2.so $(TARGET)

clean:
	$(RM) -f $(OBJS)
	$(RM) -f $(TARGET)

CP = cp
install:
	$(CP) $(TARGET) $(DEST)
ifneq ("$(wildcard $(DESTCOPY))", "")
	$(CP) $(TARGET) $(DESTCOPY)
endif
